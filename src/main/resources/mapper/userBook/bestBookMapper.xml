<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.dao.userBook.BestBookDaoImpl">
	<!-- 베스트 도서 이미지 리스트 가져오기 -->
	<select id="getBestBook" resultType="com.vo.adminGoodsMgt.GoodsListVO">
	/* bestBookMapper.getBestBook */
	SELECT
	      a.GD_NO as gdNo<!-- 상품번호 -->
		 ,a.GD_GP as gdGp<!-- 상품구분 -->
		 ,a.GD_SP as gdSp<!-- 상품분류 -->
		 ,a.GD_NM as gdNm<!-- 상품이름 -->
		 ,a.GD_CNT as gdCnt<!-- 상품재고 -->
		 ,a.GD_PAGE as gdPage<!-- 상품페이지 -->
		 ,a.GD_THICK as gdThick<!-- 상품두께 -->
	     ,a.GD_WR as gdWr<!-- 상품작가 -->
		 ,a.GD_PB as gdPb<!-- 상품출판사 -->
		 ,a.GD_DC as gdDc<!-- 상픔설명 -->
		 ,a.GD_YN as gdYn<!-- 상품개시 -->
		 ,a.GD_IMG as gdImg<!-- 상품이미지(BLOB) -->
		 ,a.GD_PRICE as gdPrice<!-- 상품가격 -->
	     ,b.cm_grnm as gdGpNm<!-- 상품구분이름 -->
	     ,c.cm_grnm as gdSpNm<!-- 상품분류이름 -->
	 FROM GOODS_INFO a 
	 left OUTER JOIN CMCD_MGT b ON  b.CM_GRCD = a.GD_GP
	 left OUTER JOIN CMCD_MGT c ON c.CM_GRCD = a.GD_SP and c.CM_UPCD = a.GD_GP
	ORDER BY a.GD_REGDATE DESC
	</select>

</mapper>